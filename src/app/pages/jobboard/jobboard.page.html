

<ion-content>
  <div class="top-banner">
    <ion-header>
      <app-topbar-dashboard>
      </app-topbar-dashboard>
    </ion-header>
    <div>
      <div class="text">
        You have <em>{{ invitationEntities.length }} Job invitation{{ invitationEntities.length > 1 ? 's' : '' }}</em> received
      </div>
    </div>
  </div>

  <div>
    <app-filter-chips
      [items]="{
        'all': 'All Jobs',
        'saved': 'Saved',
        'applied': 'Applied',
        'rejected': 'Rejected'
      }"
      [formControl]="chipControl"
    ></app-filter-chips>
  </div> 
  <br/>
  <div class="ion-padding-horizontal">
    @for (invitation of displayedInvitationEntities; track invitation.id) {
      <app-clickable-job-card
        [jobEntity]="invitation.jobEntity"
        [status]="invitation.inviteStatus"
      >
        <div slot="date">
          <!-- Todo, the language -->
          {{ invitation.createdAt | date: 'MMM d, y, h:mm a' }}
        </div>
        <div slot="title">
          {{ invitation.jobEntity.title }}
        </div>
        <div slot="subtitle">
          {{ invitation.jobEntity.companyName }}
          - <!-- Cannot find the company location -->
        </div>
        <div slot="footer">
          <!-- TODO, translation -->
          <div class="chip">{{ invitation.jobEntity.employmentTypeEntity.name }}</div>
          <div class="chip">{{ invitation.jobEntity.workTypeEntity.name }}</div>
        </div>
      </app-clickable-job-card>
    }

    <!--
    <br/>
    <app-job-card
      status="applied"
    >
      <div slot="date">Sep 19, 2024, 2:56 AM</div>
      <div slot="image">
        <img src="/assets/png/sample-image-2.png" alt=""/>
      </div>
      <div slot="title">Senior Java Developer</div>
      <div slot="subtitle">
        Moneycore - Souad Ayari
      </div>
      <div slot="footer">
        <div class="chip">Permanent</div>
        <div class="chip">On-site</div>
      </div>
    </app-job-card>
    <app-job-card
      status="rejected"
    >
      <div slot="date">Sep 19, 2024, 2:56 AM</div>
      <div slot="image">
        <img src="/assets/png/sample-image-2.png" alt=""/>
      </div>
      <div slot="title">Senior Java Developer</div>
      <div slot="subtitle">
        Moneycore - Souad Ayari
      </div>
      <div slot="footer">
        <div class="chip">Permanent</div>
        <div class="chip">On-site</div>
      </div>
    </app-job-card>
    <app-job-card
      status="applied"
    >
      <div slot="date">Sep 19, 2024, 2:56 AM</div>
      <div slot="image">
        <img src="/assets/png/sample-image-2.png" alt=""/>
      </div>
      <div slot="title">Senior Java Developer</div>
      <div slot="subtitle">
        Moneycore - Souad Ayari
      </div>
      <div slot="footer">
        <div class="chip">Permanent</div>
        <div class="chip">On-site</div>
      </div>
    </app-job-card>
    -->
  </div>

  <div class="floating-bottom">
    <app-bottom-navbar [tabName]="tabName"></app-bottom-navbar>
  </div>
</ion-content>
